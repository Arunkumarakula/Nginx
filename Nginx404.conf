# This is used to avoid 404 error in some cases like whenever the application shows page not found


server {
    listen 80;
    server_name localhost;

    root /usr/share/nginx/html;
    index index.html;

    gzip on;
    gzip_static on;
    gzip_types text/plain text/css application/javascript application/json application/xml image/svg+xml;
    gzip_min_length 1024;

    location ~* \.(?:ico|css|js|gif|jpe?g|png|woff2?|eot|ttf|svg)$ {
        expires 6M;
        add_header Cache-Control "public, immutable";
        try_files $uri /index.html;
    }

    location / {
        try_files $uri /index.html;
    }
}


I added this Nginx configuration to fix 404 errors in a Single Page Application (SPA) like React, Angular.
In SPAs, routing happens on the frontend, not on the server. So when a user refreshes a deep link (for example /dashboard or /profile/123), Nginx tries to find a physical file at that path. When the file doesnâ€™t exist, it returns a 404.
To solve this, I used try_files $uri /index.html; which tells Nginx:

If the file exists, serve it.

If not, always return index.html, so the frontend router can handle the route.
This completely removes 404 errors on refresh and ensures all SPA routes work properly.
